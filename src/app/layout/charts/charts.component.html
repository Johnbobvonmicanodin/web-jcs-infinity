<div [@routerTransition]>

    <img class="img-fluid mx-auto d-block" src="./../../../assets/images/easystatbanniere.png" width="100%">
    <!--<h2>JCS Easy Stats</h2><h5>Qui pour m'apprendre le css ?</h5>-->
    <br>
    <h5>Choisir la saison :</h5>
    <div class="row">
    <div class="col-lg-2">
    <select [(ngModel)]="saison" (ngModelChange)="selectionChange($event)" class="form-control">
            <option value="2">Saison 2</option>
            <option value="3">Saison 3</option>
    </select>
    </div>
    <div *ngIf="!dataIsload" class="col-lg-2">
            <img src="./../../../assets/images/ajax-loader.gif">
    </div>
    </div>  
    <br>
    
    <div *ngIf="!onPageJoueur && !onPageTeam">
    <br>
    <h5>Statistiques des joueurs globales :</h5>
    <label><i>Clique sur une ligne pour accèder à la page du joueur</i></label>
    <br>
    <table id="tablejoueurs" class="display" width="100%"></table>
    </div>


    <div *ngIf="onPageJoueur && !onPageTeam">
        <div class="row">
            <div class="col-lg-11">
              <h2>{{currentPlayer}}</h2>
            </div>
            <div class="col-lg-1">
                <button type="button" (click)="retourMain()" class="btn btn-secondary">Retour</button>
            </div>
        <br>
        <br>
         </div>
        <label>Partie(s) : </label>
                <div class="row">
                    <div class="col-lg-12">
                            <table class="table">
                                    <thead class="thead-inverse">
                                    <tr>
                                        <th>Ligue</th>
                                        <th>Champion</th>
                                        <th>KDA</th>
                                        <th>Kills</th>
                                        <th>Deaths</th>
                                        <th>Assists</th>
                                        <th>DPM</th>
                                        <th>Damages</th>
                                        <th>GPM</th>
                                        <th>Golds</th>
                                        <th>FPM</th>
                                        <th>Farm</th>
                                        <th>VPM</th>
                                        <th>Vision</th>
                                        <th>D/G</th>                   
                                        <th>Durée</th>
                                        <th>Poste</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr *ngFor="let item of gamesJoueur">
                                        <td>{{item.item.ma_ligue}}</td>
                                        <td>{{item.item.champion}}</td>
                                        <td>{{item.kda}}</td>
                                        <td>{{item.item.kills}}</td>
                                        <td>{{item.item.deaths}}</td>
                                        <td>{{item.item.assists}}</td>
                                        <td>{{item.dpm}}</td>
                                        <td>{{item.item.degats}}</td>
                                        <td>{{item.gpm}}</td>
                                        <td>{{item.item.golds}}</td>
                                        <td>{{item.fpm}}</td>
                                        <td>{{item.item.farm}}</td>
                                        <td>{{item.vpm}}</td>
                                        <td>{{item.item.visions}}</td>
                                        <td>{{item.dg}}</td>
                                        <td>{{item.mn}}</td>
                                        <th>{{item.item.poste}}</th>
                                    </tr>
                                    </tbody>
                           </table>
                    </div>
                </div>
    </div>

    <!--<div *ngIf="!dataIsload" style="text-align:center;">
            <img src="./../../../assets/images/ajax-loader.gif">
    </div>-->

    <label>Statistiques S2 : <a target="blank" href="http://jcs-easy-stats.alwaysdata.net">Clique ici.</a></label>
    <br>
    <label>La flemme étant grande go <a target="blank" href="http://old-stats.jcs-infinity.fr">Stats S3</a> en attendant</label>

    <div class="row">
        <div class="col col-sm-6">
            <div class="card mb-3">
                <div class="card-header">
                    Bar Chart
                </div>
                <div class="card-body">
                    <canvas baseChart [datasets]="barChartData" [labels]="barChartLabels" [options]="barChartOptions" [legend]="barChartLegend" [chartType]="barChartType" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)">
                    </canvas>
                </div>
                <div class="card-footer">
                    <button class="btn btn-info btn-sm" (click)="randomize()">Update</button>
                </div>
            </div>
        </div>
        <div class="col col-sm-6">
            <div class="card mb-3">
                <div class="card-header">
                    Doughnut Chart
                </div>
                <div class="card-body">
                    <canvas baseChart height="180px" [data]="doughnutChartData" [labels]="doughnutChartLabels" [chartType]="doughnutChartType" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)">
                    </canvas>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col col-sm-6">
            <div class="card mb-3">
                <div class="card-header">
                    Radar Chart
                </div>
                <div class="card-body">
                    <canvas baseChart height="150px" [datasets]="radarChartData" [labels]="radarChartLabels" [chartType]="radarChartType" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)">
                    </canvas>
                </div>
            </div>
        </div>
        <div class="col col-sm-6">
            <div class="card mb-3">
                <div class="card-header">
                    Pie Chart
                </div>
                <div class="card-body">
                    <canvas baseChart height="150px" [data]="pieChartData" [labels]="pieChartLabels" [chartType]="pieChartType" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)">
                    </canvas>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col col-sm-6">
            <div class="card mb-3">
                <div class="card-header">
                    Polar Area Chart
                </div>
                <div class="card-body">
                    <canvas baseChart height="130px" [data]="polarAreaChartData" [labels]="polarAreaChartLabels" [legend]="polarAreaLegend" [chartType]="polarAreaChartType" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)">
                    </canvas>
                </div>
            </div>
        </div>
        <div class="col col-sm-6">
            <div class="card mb-3">
                <div class="card-header">
                    Line Chart
                </div>
                <div class="card-body">
                    <canvas baseChart height="130" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors" [legend]="lineChartLegend" [chartType]="lineChartType" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)">
                    </canvas>
                </div>
            </div>
        </div>
    </div>
</div>
